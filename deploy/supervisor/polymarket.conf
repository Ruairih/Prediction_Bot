; Polymarket Trading Bot - Supervisor Configuration
;
; Installation:
;   sudo cp polymarket.conf /etc/supervisor/conf.d/
;   sudo supervisorctl reread
;   sudo supervisorctl update
;
; Management:
;   sudo supervisorctl status polymarket:*
;   sudo supervisorctl restart polymarket:bot
;   sudo supervisorctl tail -f polymarket:bot

[group:polymarket]
programs=bot,dashboard

; =============================================================================
; Main Trading Bot
; =============================================================================
[program:bot]
command=/opt/polymarket-bot/.venv/bin/python -m polymarket_bot.main --mode all
directory=/opt/polymarket-bot
user=trading
environment=PYTHONPATH="/opt/polymarket-bot/src"
autostart=true
autorestart=true
startsecs=10
startretries=3
stopwaitsecs=30
stopsignal=TERM
stopasgroup=true
killasgroup=true
redirect_stderr=true
stdout_logfile=/var/log/polymarket/bot.log
stdout_logfile_maxbytes=50MB
stdout_logfile_backups=10

; =============================================================================
; Monitoring Dashboard
; =============================================================================
[program:dashboard]
command=/opt/polymarket-bot/.venv/bin/python -m polymarket_bot.monitoring.dashboard --host 0.0.0.0 --port 5050
directory=/opt/polymarket-bot
user=trading
environment=PYTHONPATH="/opt/polymarket-bot/src"
autostart=true
autorestart=true
startsecs=5
startretries=3
stopwaitsecs=10
stopsignal=TERM
stopasgroup=true
killasgroup=true
redirect_stderr=true
stdout_logfile=/var/log/polymarket/dashboard.log
stdout_logfile_maxbytes=10MB
stdout_logfile_backups=5
